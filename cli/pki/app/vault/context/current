#!/usr/bin/env bash
source $HOME/.pkictl/.login/.current
if [[ -z "$PKICTL_CONTEXT" ]]; then
    echo -e "${RED}[ERROR]${NC} No ${YELLOW}PKICTL${NC} context has been set."
    exit 1
fi

echo -e "${GREEN}[PKICTL]${NC} PKICTL_CONTEXT=${YELLOW}${PKICTL_CONTEXT}${NC}"
echo -e "${GREEN}[PKICTL]${NC} PKICTL_CONTEXT_LOGIN_METHOD=${YELLOW}${PKICTL_CONTEXT_LOGIN_METHOD}${NC}"
echo -e "${GREEN}[PKICTL]${NC} PKICTL_CONTEXT_HOST=${YELLOW}${PKICTL_CONTEXT_HOST}${NC}"
echo -e "${GREEN}[PKICTL]${NC} PKICTL_CONTEXT_TLS_ENABLED=${YELLOW}${PKICTL_CONTEXT_TLS_ENABLED}${NC}"
if [[ "$PKICTL_CONTEXT_TLS_ENABLED" == "true" ]]; then
    echo -e "${GREEN}[PKICTL]${NC} PKICTL_CONTEXT_TLS_CACERT=${YELLOW}${PKICTL_CONTEXT_TLS_CACERT}${NC}"
    echo -e "${GREEN}[PKICTL]${NC} PKICTL_CONTEXT_TLS_CERT=${YELLOW}${PKICTL_CONTEXT_TLS_CERT}${NC}"
    echo -e "${GREEN}[PKICTL]${NC} PKICTL_CONTEXT_TLS_KEY=${YELLOW}${PKICTL_CONTEXT_TLS_KEY}${NC}"
fi
echo -e "${GREEN}[PKICTL]${NC} PKICTL_CONTEXT_TOKEN=${YELLOW}${PKICTL_CONTEXT_TOKEN}${NC}"
echo -e "${GREEN}[PKICTL]${NC} PKICTL_CONTEXT_TOKEN_EXPIRATION=${YELLOW}${PKICTL_CONTEXT_TOKEN_EXPIRATION}${NC}"
echo -e "${GREEN}[PKICTL]${NC} PKICTL_CONTEXT_TOKEN_DURATION=${YELLOW}${PKICTL_CONTEXT_TOKEN_DURATION}${NC}"